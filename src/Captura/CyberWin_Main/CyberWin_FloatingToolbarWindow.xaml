<Window x:Class="Captura.CyberWin_Main.CyberWin_FloatingToolbarWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:viewModels="clr-namespace:Captura.ViewModels" xmlns:cyberwin_main="clr-namespace:Captura.CyberWin_Main"
        Title="未来之窗教学录制工具Floating Toolbar" Height="Auto" Width="50"
        WindowStyle="None" AllowsTransparency="True" Background="#90e50000"
        Topmost="True" ShowInTaskbar="False" ResizeMode="NoResize">
    
    <Window.DataContext>
        <cyberwin_main:CyberWin_FloatingToolbarViewModel />
        <!-- 注意：这里要写你实际的视图模型类名，比如ToolbarViewModel -->
    </Window.DataContext>
    <Window.Resources>
        <!-- 按钮样式 -->
        <Style TargetType="Button" x:Key="FloatingButtonStyle">
            <Setter Property="Width" Value="30" />
            <Setter Property="Height" Value="50" />
            <Setter Property="Margin" Value="5" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="materialDesign:ButtonAssist.CornerRadius" Value="10" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#50FFFFFF" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#80FFFFFF" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <!-- 主容器，支持拖拽 -->
    <Grid MouseLeftButtonDown="Grid_MouseLeftButtonDown"  HorizontalAlignment="Center"  Background="Transparent">
        <!-- 垂直排列的按钮 -->
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5">
            <Label  Foreground="#FFFFFF" FontSize="14"  Width="30">电子</Label>
            <Label  Foreground="#FFFFFF" FontSize="14"  Width="30" >教学</Label>
            <!-- 录制控制 -->
            <Button Command="{Binding StartRecordingCommand}" Style="{StaticResource FloatingButtonStyle}" ToolTip="开始录制">
                <materialDesign:PackIcon   Kind="Play"  Width="25" Height="25" />
            </Button>
            <Button Command="{Binding PauseRecordingCommand}" Style="{StaticResource FloatingButtonStyle}" ToolTip="暂停录制">
                <materialDesign:PackIcon Kind="Pause" Width="25" Height="25" />
            </Button>
            <!--
            <Button Command="{Binding StopRecordingCommand}" Style="{StaticResource FloatingButtonStyle}" ToolTip="停止录制">
                <materialDesign:PackIcon Kind="Stop" Width="25" Height="25" />
            </Button>
            -->

            <Separator Height="15" Visibility="Hidden" />

            <!-- 工具控制 -->
            <Button Command="{Binding ToggleMagnifierCommand}" Style="{StaticResource FloatingButtonStyle}" ToolTip="放大镜">
                <materialDesign:PackIcon Width="25" Height="25"  Kind="{Binding ManualIconKind}"/>
                <!-- 保留原有尺寸，通过Style和触发器切换图标 -->
                   
                
            </Button>
            <Button Command="{Binding TogglePencilTechCommand}" Style="{StaticResource FloatingButtonStyle}" ToolTip="讲课粉笔模式，通过快捷键切换">
                <materialDesign:PackIcon Kind="Pencil" Width="25" Height="25" />
            </Button>
            <Button Command="{Binding ToggleCursorCommand}" Style="{StaticResource FloatingButtonStyle}" ToolTip="光标模式,通过快捷键切换">
                <materialDesign:PackIcon Kind="CursorPointer" Width="25" Height="25" />
            </Button>
            <Button Command="{Binding TogglePencilPaletteCommand}" 
        Style="{StaticResource FloatingButtonStyle}" 
        ToolTip="画笔-颜色">
                <!-- 推荐使用调色板图标 -->
                <materialDesign:PackIcon Kind="Palette" Width="25" Height="25" />
            </Button>
        </StackPanel>
    </Grid>
</Window>